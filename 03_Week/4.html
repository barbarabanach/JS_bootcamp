<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>
    Changing styles
    </title>
    <style>
    </style>
    </meta>
  </head>
  <body>
    <script>
    (function(){
      function fetch(url, onSuccess, onFail){
      
        function wczytanieDanych () {
          onSuccess(this.responseText);
        }
        
        function obslugaBledu () {
          onFail("Wystapil blad");
        }

        var oReq = new XMLHttpRequest();
        oReq.addEventListener("load", wczytanieDanych);
        oReq.addEventListener("error", obslugaBledu);
        oReq.open("GET", url);
        oReq.send();
      }

      function getJSON(url, onSuccess, onFail){


        function wczytanieDanych () {
          var dane = JSON.parse(this.responseText);
          
          onSuccess(dane);

        }
        
        function obslugaBledu () {
          onFail("Wystapil blad");
        }

        var oReq = new XMLHttpRequest();
        oReq.addEventListener("load", wczytanieDanych);
        oReq.addEventListener("error", obslugaBledu);
        oReq.open("GET", url);
        oReq.setRequestHeader('Accept', 'application/json');
        oReq.send();
      }

      // fetch("http://code.eduweb.pl/bootcamp/users/", function(data) {
      //   console.log("Sukces");
      //   console.log(data);
      // }, function(err) {
      //   console.log("Wystąpił błąd!");
      //   console.log(err);
      // });

      getJSON("http://code.eduweb.pl/bootcamp/users/", function(data) {
        console.log("Sukces");
        console.log(data);
      // typeof data powinno zwrócić “object”
      }, function(err) {
        console.log("Wystąpił błąd!");
        console.log(err);
      });


    })();
    </script>
  </body>
</html>